{"version":3,"sources":["webpack://ReactResponsiveSelect/webpack/universalModuleDefinition","webpack://ReactResponsiveSelect/webpack/bootstrap","webpack://ReactResponsiveSelect/./src/constants/actionTypes.ts","webpack://ReactResponsiveSelect/./node_modules/react/index.js","webpack://ReactResponsiveSelect/./node_modules/singleline-next/lib/index.js","webpack://ReactResponsiveSelect/./src/lib/isEqual.ts","webpack://ReactResponsiveSelect/./src/lib/nextValidIndex.ts","webpack://ReactResponsiveSelect/./src/lib/eventHandlers/handleAlphaNumerical.ts","webpack://ReactResponsiveSelect/./src/lib/onChangeBroadcasters/index.ts","webpack://ReactResponsiveSelect/./src/lib/eventHandlers/handleClick.ts","webpack://ReactResponsiveSelect/./src/lib/eventHandlers/handleEnterPressed.ts","webpack://ReactResponsiveSelect/./src/lib/eventHandlers/handleKeyUpOrDownPressed.ts","webpack://ReactResponsiveSelect/./src/reducers/initialState.ts","webpack://ReactResponsiveSelect/./src/ReactResponsiveSelect.tsx","webpack://ReactResponsiveSelect/./node_modules/react/cjs/react.production.min.js","webpack://ReactResponsiveSelect/./node_modules/object-assign/index.js","webpack://ReactResponsiveSelect/./src/lib/eventHandlers/index.ts","webpack://ReactResponsiveSelect/./src/lib/eventHandlers/handleBlur.ts","webpack://ReactResponsiveSelect/./src/lib/onChangeBroadcasters/multiSelectBroadcastChange.ts","webpack://ReactResponsiveSelect/./src/lib/onChangeBroadcasters/singleSelectBroadcastChange.ts","webpack://ReactResponsiveSelect/./src/lib/containsClassName.ts","webpack://ReactResponsiveSelect/./src/lib/eventHandlers/handleKeyEvent.ts","webpack://ReactResponsiveSelect/./src/constants/keyCodes.ts","webpack://ReactResponsiveSelect/./src/lib/preventDefaultForKeyCodes.ts","webpack://ReactResponsiveSelect/./src/lib/getNextIndex.ts","webpack://ReactResponsiveSelect/./src/lib/eventHandlers/handleTouchMove.ts","webpack://ReactResponsiveSelect/./src/lib/eventHandlers/handleTouchStart.ts","webpack://ReactResponsiveSelect/./src/components/MultiSelect.tsx","webpack://ReactResponsiveSelect/./src/components/MultiSelectOption.tsx","webpack://ReactResponsiveSelect/./src/components/SingleSelect.tsx","webpack://ReactResponsiveSelect/./src/components/SingleSelectOption.tsx","webpack://ReactResponsiveSelect/./src/lib/getCustomLabelText.ts","webpack://ReactResponsiveSelect/./src/reducers/reducer.ts","webpack://ReactResponsiveSelect/./src/reducers/lib/index.ts","webpack://ReactResponsiveSelect/./src/reducers/lib/addMultiSelectIndex.ts","webpack://ReactResponsiveSelect/./src/reducers/lib/addMultiSelectOption.ts","webpack://ReactResponsiveSelect/./src/reducers/lib/getInitialMultiSelectOption.ts","webpack://ReactResponsiveSelect/./src/reducers/lib/getMultiSelectInitialSelectedOptions.ts","webpack://ReactResponsiveSelect/./src/reducers/lib/getMultiSelectSelectedValueIndexes.ts","webpack://ReactResponsiveSelect/./src/reducers/lib/getSelectedValueIndex.ts","webpack://ReactResponsiveSelect/./src/reducers/lib/getSingleSelectSelectedOption.ts","webpack://ReactResponsiveSelect/./src/reducers/lib/mergeIsAlteredState.ts","webpack://ReactResponsiveSelect/./src/reducers/lib/removeMultiSelectIndex.ts","webpack://ReactResponsiveSelect/./src/reducers/lib/removeMultiSelectOption.ts","webpack://ReactResponsiveSelect/./src/reducers/lib/resetMultiSelectState.ts"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","INITIALISE","UPDATE_VIA_PROPS","SET_IS_DRAGGING","SET_OPTIONS_PANEL_OPEN","SET_OPTIONS_PANEL_CLOSED","SET_SINGLESELECT_OPTIONS","SET_MULTISELECT_OPTIONS","SET_OPTIONS_PANEL_CLOSED_NO_SELECTION","SET_OPTIONS_PANEL_CLOSED_ONBLUR","SET_NEXT_SELECTED_INDEX","SET_NEXT_SELECTED_INDEX_ALPHA_NUMERIC","default","multiLineString","noSpaces","delimiter","replace","trim","skipCircularReference","cache","indexOf","push","a","b","JSON","stringify","state","nextPotentialSelectionIndex","options","possibleOptionIndexes","reduce","acc","option","index","optHeader","indexNotFocusable","length","timeoutActive","stringMatch","event","RRSClassRef","setTimeout","foundIndexes","disabled","text","toLowerCase","updateState","type","actionTypes","multiSelectBroadcastChange","singleSelectBroadcastChange","multiselect","isOptionsPanelOpen","isDragging","preventDefault","containsClassName","target","parseFloat","getAttribute","focusButton","newState","props","stopPropagation","onSubmit","getNextIndex","initialState","altered","title","backButtonName","singleSelectInitialIndex","singleSelectSelectedIndex","singleSelectSelectedOption","multiSelectInitialSelectedIndexes","multiSelectSelectedOptions","multiSelectSelectedIndexes","onHandleKeyEvent","e","handleKeyEvent","onHandleTouchStart","handleTouchStart","onHandleTouchMove","handleTouchMove","onHandleClick","handleClick","onHandleBlur","handleBlur","reducer","firstLoad","componentDidMount","noSelectionLabel","selectedValue","selectedValues","UNSAFE_componentWillReceiveProps","nextProps","isEqual","componentDidUpdate","prevProps","prevState","onChange","Boolean","action","callback","onListen","nextState","setState","some","actionType","el","selectBox","querySelector","focus","render","prefix","caretIcon","hasOptHeaders","customLabelText","getCustomLabelText","className","ref","tabIndex","onKeyDown","onTouchStart","onTouchMove","onTouchEnd","onMouseDown","onBlur","MultiSelect","selectBoxRef","SingleSelect","React","Component","for","q","u","v","w","x","y","z","A","B","iterator","C","arguments","encodeURIComponent","D","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","E","F","context","refs","updater","G","H","isReactComponent","Error","forceUpdate","I","constructor","isPureReactComponent","J","current","K","L","__self","__source","M","g","k","f","children","h","Array","defaultProps","$$typeof","_owner","O","P","Q","R","pop","result","keyPrefix","func","count","S","V","T","U","isArray","next","done","keys","join","escape","toString","W","aa","X","N","Y","Z","ba","ReactCurrentDispatcher","ReactCurrentBatchConfig","suspense","ReactCurrentOwner","IsSomeRendererActing","assign","Children","map","forEach","toArray","only","Fragment","Profiler","PureComponent","StrictMode","Suspense","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","cloneElement","createContext","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_context","createElement","createFactory","createRef","forwardRef","isValidElement","lazy","_ctor","_status","_result","memo","compare","useCallback","useContext","useDebugValue","useEffect","useImperativeHandle","useLayoutEffect","useMemo","useReducer","useRef","useState","version","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","test1","String","getOwnPropertyNames","test2","fromCharCode","test3","split","letter","err","shouldUseNative","source","from","symbols","to","val","TypeError","toObject","handleAlphaNumerical","handleEnterPressed","handleKeyUpOrDownPressed","isOutsideSelectBox","contains","document","activeElement","currOptions","fn","prevOptions","currOption","currValue","prevValue","element","classNameStr","preventDefaultForKeyCodes","keyCodes","ENTER","SPACE","ESCAPE","UP","DOWN","test","keyCode","TAB","nextValidIndex","optionsButton","optionsContainer","getAriaLabel","selectedOptionsLength","optHeaderLabel","role","id","markup","textContent","MultiSelectOption","optionsContainerRef","optionRef","getScrollOffset","Math","ceil","getBoundingClientRect","height","scrollDiff","top","scrollOffset","scroll","floor","scrollTop","isDisabled","isSelected","optionsPanelJustClosed","getCustomLabel","getDefaultLabel","console","log","onClick","SingleSelectOption","image","svg","dangerouslySetInnerHTML","__html","fill","color","alt","src","customLabelRenderer","initialSelectedIndex","getSelectedValueIndex","initialSelectedIndexes","getMultiSelectSelectedValueIndexes","getSingleSelectSelectedOption","getMultiSelectInitialSelectedOptions","mergeIsAlteredState","isFirstOptionInListSelected","shouldDeselectAllAndSelectFirstOption","shouldDeselectFirstOptionAndSelectRequestedOption","getInitialMultiSelectOption","resetMultiSelectState","actionOptionIndexAdjusted","indexLocation","addMultiSelectIndex","removeMultiSelectIndex","addMultiSelectOption","removeMultiSelectOption","findClosestValidOption","filter","possibleOptions","emptyResult","selected","selectionIndex","closestValidOption","isAltered","slice"],"mappings":"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","file":"ReactResponsiveSelect.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ReactResponsiveSelect\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactResponsiveSelect\"] = factory();\n\telse\n\t\troot[\"ReactResponsiveSelect\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n","export const INITIALISE = 'INITIALISE';\nexport const UPDATE_VIA_PROPS = 'UPDATE_VIA_PROPS';\nexport const SET_IS_DRAGGING = 'SET_IS_DRAGGING';\nexport const SET_OPTIONS_PANEL_OPEN = 'SET_OPTIONS_PANEL_OPEN';\nexport const SET_OPTIONS_PANEL_CLOSED = 'SET_OPTIONS_PANEL_CLOSED';\nexport const SET_SINGLESELECT_OPTIONS = 'SET_SINGLESELECT_OPTIONS';\nexport const SET_MULTISELECT_OPTIONS = 'SET_MULTISELECT_OPTIONS';\nexport const SET_OPTIONS_PANEL_CLOSED_NO_SELECTION = 'SET_OPTIONS_PANEL_CLOSED_NO_SELECTION';\nexport const SET_OPTIONS_PANEL_CLOSED_ONBLUR = 'SET_OPTIONS_PANEL_CLOSED_ONBLUR';\nexport const SET_NEXT_SELECTED_INDEX = 'SET_NEXT_SELECTED_INDEX';\nexport const SET_NEXT_SELECTED_INDEX_ALPHA_NUMERIC = 'SET_NEXT_SELECTED_INDEX_ALPHA_NUMERIC';\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","\"use strict\";\n/**\n * Turns a multiline string into a single line string, optionallly with or without spaces.\n * @param {String} multiLineString - If using an es6 template string be sure to tab out.\n * @param {Boolean} noSpaces - If you'd like there to be no spaces between say your HTML add this boolean.\n * @returns {String}\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction singleline(multiLineString, noSpaces) {\n    var delimiter = noSpaces ? '' : ' ';\n    return multiLineString.replace(/\\s\\s+/g, delimiter).trim();\n}\nexports.default = singleline;\n","const skipCircularReference = () => {\n    let cache: any[] = [];\n    return (key: string, value: any) => {\n        if (typeof value === 'object' && value !== null) {\n            // Circular reference found\n            if (cache.indexOf(value) !== -1) return;\n            cache.push(value);\n        }\n        // No circular reference found\n        return value;\n    };\n}\n\nexport function isEqual(a: any, b: any): boolean {\n    return JSON.stringify(a, skipCircularReference()) === JSON.stringify(b, skipCircularReference());\n}\n","import { IOption, IState } from '../types/';\n\nexport function nextValidIndex(\n  state: IState,\n  nextPotentialSelectionIndex: number,\n  mode: 'INCREMENT' | 'DECREMENT' = 'INCREMENT'\n): number {\n  const { options } = state;\n\n  const possibleOptionIndexes = options.reduce((acc: number[], option: IOption, index: number) => {\n    if (!option.optHeader) acc.push(index);\n    return acc;\n  }, []);\n\n  const indexNotFocusable =\n    possibleOptionIndexes.indexOf(nextPotentialSelectionIndex) === -1;\n\n  if (indexNotFocusable && mode === 'INCREMENT') {\n    const nextSelectionPossible =\n      options[nextPotentialSelectionIndex + 1] &&\n      !options[nextPotentialSelectionIndex + 1].optHeader;\n\n    return nextSelectionPossible\n      ? nextPotentialSelectionIndex + 1\n      : possibleOptionIndexes[0];\n  }\n\n  if (indexNotFocusable && mode === 'DECREMENT') {\n    const nextSelectionPossible =\n      options[nextPotentialSelectionIndex - 1] &&\n      !options[nextPotentialSelectionIndex - 1].optHeader;\n\n    return nextSelectionPossible\n      ? nextPotentialSelectionIndex - 1\n      : possibleOptionIndexes[possibleOptionIndexes.length - 1];\n  }\n\n  return nextPotentialSelectionIndex;\n}\n","import * as actionTypes from '../../constants/actionTypes';\nimport ReactResponsiveSelect from '../../ReactResponsiveSelect';\nimport { IOption, IState } from '../../types/';\n\ninterface IArgs {\n  event: KeyboardEvent;\n  state: IState;\n  RRSClassRef: ReactResponsiveSelect;\n}\n\nlet stringMatch:string = '';\nlet timeoutActive:boolean;\n\n/**\n * User types some keys in quick successsion whilst focused on a select - search for this combonation in their options\n */\nexport function handleAlphaNumerical({ event, state, RRSClassRef }: IArgs): void {\n  const { options, disabled } = state;\n\n  if (disabled) return;\n\n  // Accumulate users key presses\n  stringMatch = stringMatch + event.key;\n\n  if (!timeoutActive) {\n    timeoutActive = true;\n\n    // Eventually (after 250ms) check if the accumulation of their keypresses matches the text of an option\n    setTimeout(() => {\n      const foundIndexes:number[] = options.reduce((acc: number[], option: IOption, index: number) => {\n        if (\n          !option.optHeader\n          && !option.disabled\n          && option.text\n          && option.text.toLowerCase().indexOf(stringMatch) !== -1\n        ) {\n          acc.push(index);\n        }\n        return acc;\n      }, []);\n\n      if (foundIndexes.length > 0) {\n        RRSClassRef.updateState({\n          value: foundIndexes[0],\n          type: actionTypes.SET_NEXT_SELECTED_INDEX_ALPHA_NUMERIC,\n        });\n      }\n\n      // allow for the creation of a new search\n      timeoutActive = false;\n      stringMatch = '';\n    }, 250)\n  }\n}\n","export { multiSelectBroadcastChange } from './multiSelectBroadcastChange';\nexport { singleSelectBroadcastChange } from './singleSelectBroadcastChange';\n","import * as actionTypes from '../../constants/actionTypes';\n\nimport { IState } from '../../types/';\nimport ReactResponsiveSelect from '../../ReactResponsiveSelect';\nimport { containsClassName } from '../containsClassName';\n\ninterface TArgs {\n  event: any;\n  state: IState;\n  RRSClassRef: ReactResponsiveSelect;\n}\n\nexport function handleClick({ event, state, RRSClassRef }: TArgs): void {\n  const {\n    multiselect,\n    isOptionsPanelOpen,\n    isDragging,\n    disabled,\n    options,\n  } = state;\n\n  if (disabled) return;\n\n  if (isDragging === false && event && event != \"force\") {\n    /* Disallow natural event flow - don't allow blur to happen from button focus to selected option focus */\n    event.preventDefault();\n\n    if (event && containsClassName(event.target as HTMLElement, 'rrs__options')) {\n      return;\n    }\n\n    const value = parseFloat(\n      (event.target as any).getAttribute('data-key'),\n    );\n\n    if (options[value] && (options[value].disabled === true || options[value].optHeader === true)) {\n      return;\n    }\n\n    /* Select option index, if user selected option */\n    if (containsClassName(event.target as HTMLElement, 'rrs__option')) {\n      RRSClassRef.updateState({\n        type: multiselect\n          ? actionTypes.SET_MULTISELECT_OPTIONS\n          : actionTypes.SET_SINGLESELECT_OPTIONS,\n        value,\n      });\n\n      return;\n    }\n\n    /*\n      When the options panel is open, treat clicking the label/select button\n      or the background overlay on small screen as a 'no action'\n    */\n    if (\n      isOptionsPanelOpen &&\n      // button on desktop (rrs__label) or overlay on small screen (rrs)\n      (containsClassName(event.target as HTMLElement, 'rrs__label') ||\n        containsClassName(event.target as HTMLElement, 'rrs')\n        || containsClassName(event.target as HTMLElement, 'button_close'))\n    ) {\n      RRSClassRef.updateState(\n        {\n          type: actionTypes.SET_OPTIONS_PANEL_CLOSED_NO_SELECTION\n        },\n        () => RRSClassRef.focusButton(),\n      );\n\n      return;\n    }\n\n    /* Else user clicked close or open the options panel */\n    RRSClassRef.updateState(\n      {\n        type: isOptionsPanelOpen\n          ? actionTypes.SET_OPTIONS_PANEL_CLOSED\n          : actionTypes.SET_OPTIONS_PANEL_OPEN,\n      },\n      (newState: IState) => {\n        // After state update, check if focus should be moved to the button\n        if (newState.isOptionsPanelOpen === false) {\n          RRSClassRef.focusButton();\n        }\n      },\n    );\n  } else if (event == \"force\") {\n    if (\n      isOptionsPanelOpen) {\n      RRSClassRef.updateState(\n        {\n          type: actionTypes.SET_OPTIONS_PANEL_CLOSED_NO_SELECTION\n        },\n        () => RRSClassRef.focusButton(),\n      );\n\n      return;\n    }\n  }\n}\n","import * as actionTypes from '../../constants/actionTypes';\nimport ReactResponsiveSelect from '../../ReactResponsiveSelect';\nimport { IProps, IState } from '../../types/';\n\ninterface IArgs {\n  event: KeyboardEvent;\n  state: IState;\n  props: IProps;\n  RRSClassRef: ReactResponsiveSelect;\n}\n\nexport function handleEnterPressed({ event, state, props, RRSClassRef }: IArgs): void {\n  const {\n    disabled,\n    isOptionsPanelOpen,\n    multiselect,\n    nextPotentialSelectionIndex,\n    options,\n  } = state;\n\n  if (disabled) return;\n\n  const value = parseFloat((event.target as any).getAttribute('data-key'));\n\n  if (options[value] && (options[value].disabled === true || options[value].optHeader === true)) {\n    return;\n  }\n\n  if (multiselect) {\n    RRSClassRef.updateState({\n      type: actionTypes.SET_MULTISELECT_OPTIONS,\n      value: nextPotentialSelectionIndex,\n    });\n  } else {\n    RRSClassRef.updateState({\n      type: actionTypes.SET_SINGLESELECT_OPTIONS,\n      value: nextPotentialSelectionIndex,\n    });\n  }\n\n  if (isOptionsPanelOpen) {\n    event.stopPropagation(); // Do not submit form\n  } else {\n    // tslint:disable-next-line\n    props.onSubmit && props.onSubmit(event); // Submit the form\n  }\n}\n","import * as actionTypes from '../../constants/actionTypes';\nimport ReactResponsiveSelect from '../../ReactResponsiveSelect';\nimport { IState } from '../../types/';\nimport { getNextIndex } from '../getNextIndex';\n\ninterface TArgs {\n  state: IState;\n  type: 'INCREMENT' | 'DECREMENT';\n  RRSClassRef: ReactResponsiveSelect;\n}\n\nexport function handleKeyUpOrDownPressed({ state, RRSClassRef, type }: TArgs): void {\n  const { isOptionsPanelOpen, disabled } = state;\n\n  if (disabled) return;\n\n  RRSClassRef.updateState({\n    type: actionTypes.SET_NEXT_SELECTED_INDEX,\n    value: getNextIndex(type, state),\n  });\n\n  /* Open the options panel */\n  if (isOptionsPanelOpen === false) {\n    RRSClassRef.updateState({\n      type: actionTypes.SET_OPTIONS_PANEL_OPEN,\n    });\n  }\n}\n","export const initialState = {\n  // Constants\n  multiselect: false,\n\n  // Universal\n  name: '',\n  options: [],\n  isDragging: false,\n  isOptionsPanelOpen: false,\n  altered: false,\n  title: '',\n  backButtonName: '',\n\n  // Single select\n  singleSelectInitialIndex: 0,\n  singleSelectSelectedIndex: 0,\n  singleSelectSelectedOption: {},\n\n  // For determining highlighted item on Keyboard navigation\n  nextPotentialSelectionIndex: 0,\n\n  // Multi select\n  multiSelectInitialSelectedIndexes: [0],\n  multiSelectSelectedOptions: {\n    altered: false,\n    options: [],\n  },\n  multiSelectSelectedIndexes: [],\n};\n","import * as React from 'react';\nimport * as actionTypes from './constants/actionTypes';\n\nimport { IAction, IProps, IState } from './types/';\nimport { handleBlur, handleClick, handleKeyEvent, handleTouchMove, handleTouchStart } from './lib/eventHandlers';\nimport { multiSelectBroadcastChange, singleSelectBroadcastChange } from './lib/onChangeBroadcasters';\n\nimport { MultiSelect } from './components/MultiSelect';\nimport { SingleSelect } from './components/SingleSelect';\nimport { getCustomLabelText } from './lib/getCustomLabelText';\nimport { initialState } from './reducers/initialState';\nimport { isEqual } from './lib/isEqual';\nimport { reducer } from './reducers/reducer';\nimport singleline from 'singleline-next';\n\nexport default class ReactResponsiveSelect extends React.Component<IProps, IState> {\n  public selectBox: HTMLDivElement | null;\n  private reducer: (state: IState, action: IAction) => IState;\n  private firstLoad: boolean;\n\n  constructor(props: IProps) {\n    super(props);\n    this.state = initialState;\n    this.reducer = reducer;\n    this.firstLoad = true;\n  }\n\n  public componentDidMount(): void {\n    const {\n      options,\n      noSelectionLabel,\n      selectedValue,\n      selectedValues,\n      name,\n      multiselect,\n      disabled,\n      backButtonName,\n      title\n    } = this.props;\n\n    this.updateState({\n      type: actionTypes.INITIALISE,\n      value: {\n        options,\n        noSelectionLabel,\n        selectedValue,\n        selectedValues,\n        name,\n        multiselect,\n        disabled,\n        backButtonName,\n        title\n      },\n    });\n  }\n\n  /**\n   * Allow for the component to be updated/controlled via props after componentDidMount\n   */\n  public UNSAFE_componentWillReceiveProps(nextProps: IProps): void {\n    if (!isEqual(nextProps, this.props)) {\n      this.updateState({\n        type: actionTypes.UPDATE_VIA_PROPS,\n        value: { ...this.props, ...nextProps },\n      });\n    }\n  }\n\n  /* Broadcast change when there has been one */\n  public componentDidUpdate(prevProps: IProps, prevState: IState): boolean {\n    const { singleSelectSelectedOption, multiSelectSelectedOptions, multiselect, altered } = this.state;\n    const { onChange } = this.props;\n\n    if (this.firstLoad) {\n      this.firstLoad = false;\n      return false;\n    }\n\n    if (multiselect) {\n      multiSelectBroadcastChange(\n        multiSelectSelectedOptions.options,\n        Boolean(altered),\n        onChange,\n        prevState.multiSelectSelectedOptions.options,\n      );\n    } else {\n      singleSelectBroadcastChange(\n        singleSelectSelectedOption,\n        Boolean(altered),\n        onChange,\n        prevState.singleSelectSelectedOption,\n      );\n    }\n\n    return true;\n  }\n\n  public updateState(action: IAction, callback?: (nextState: IState) => any): void {\n    const { onListen, name } = this.props;\n    const nextState = this.reducer(this.state, action);\n\n    this.setState(nextState, () => {\n      if (callback) {\n        callback(nextState);\n      }\n    });\n\n    /* Allow user to listen to actions being fired */\n    if (onListen) {\n      const isOpen = [\n        actionTypes.SET_OPTIONS_PANEL_OPEN,\n        actionTypes.SET_NEXT_SELECTED_INDEX,\n        actionTypes.SET_NEXT_SELECTED_INDEX_ALPHA_NUMERIC,\n        actionTypes.SET_IS_DRAGGING,\n      ].some((actionType: string) => action.type === actionType);\n\n      onListen(isOpen, name, action.type);\n    }\n  }\n\n  public focusButton(): void {\n    const el: HTMLDivElement | null =\n      this.selectBox && this.selectBox.querySelector('.rrs__button');\n    // tslint:disable-next-line no-unused-expression\n    el && el.focus();\n  }\n\n  public onHandleKeyEvent = (e: any): void => {\n    handleKeyEvent({\n      event: e,\n      RRSClassRef: this,\n      state: this.state,\n      props: this.props,\n    });\n  }\n\n  public onHandleTouchStart = (): void => {\n    handleTouchStart({\n      RRSClassRef: this,\n      state: this.state,\n    });\n  }\n\n  public onHandleTouchMove = (): void => {\n    handleTouchMove({\n      RRSClassRef: this,\n      state: this.state,\n    });\n  }\n\n  public onHandleClick = (e: any): void => {\n    handleClick({\n      event: e,\n      RRSClassRef: this,\n      state: this.state,\n    });\n  }\n\n  public onHandleBlur = (): void => {\n    handleBlur({\n      RRSClassRef: this,\n      state: this.state,\n      props: this.props,\n    });\n  }\n\n  public render(): React.ReactNode {\n    const { prefix, caretIcon, disabled } = this.props;\n    const {\n      altered,\n      hasOptHeaders,\n      isOptionsPanelOpen,\n      isDragging,\n      noSelectionLabel,\n      multiSelectSelectedIndexes,\n      multiSelectSelectedOptions,\n      name,\n      nextPotentialSelectionIndex,\n      options,\n      backButtonName,\n      title,\n      singleSelectSelectedIndex,\n      singleSelectSelectedOption,\n      multiselect,\n    } = this.state;\n\n    const customLabelText = getCustomLabelText({\n      props: this.props,\n      state: this.state,\n    });\n\n    return (\n      <div\n        data-testid={name}\n        data-name={name}\n        className={singleline(`\n          rrs\n          ${isOptionsPanelOpen === true ? 'rrs--options-visible' : ''}\n          ${altered ? 'rrs--has-changed' : ''}\n          ${hasOptHeaders ? 'rrs--has-opt-headers' : ''}\n        `)}\n        ref={(r: HTMLDivElement): void => {\n          this.selectBox = r;\n        }}\n        tabIndex={-1}\n        onKeyDown={this.onHandleKeyEvent}\n        onTouchStart={this.onHandleTouchStart}\n        onTouchMove={this.onHandleTouchMove}\n        onTouchEnd={this.onHandleClick}\n        onMouseDown={this.onHandleClick}\n        onBlur={this.onHandleBlur}\n      >\n        {multiselect ? (\n          <MultiSelect\n            disabled={Boolean(disabled)}\n            isDragging={isDragging}\n            caretIcon={caretIcon}\n            customLabelText={customLabelText}\n            prefix={prefix || ''}\n            name={name}\n            multiSelectSelectedOptions={multiSelectSelectedOptions}\n            multiSelectSelectedIndexes={multiSelectSelectedIndexes}\n            nextPotentialSelectionIndex={nextPotentialSelectionIndex}\n            isOptionsPanelOpen={isOptionsPanelOpen}\n            options={options}\n            selectBoxRef={this.selectBox}\n          />\n        ) : (\n            <SingleSelect\n              noSelectionLabel={noSelectionLabel || ''}\n              disabled={Boolean(disabled)}\n              caretIcon={caretIcon}\n              prefix={prefix || ''}\n              name={name}\n              customLabelText={customLabelText}\n              singleSelectSelectedOption={singleSelectSelectedOption}\n              singleSelectSelectedIndex={singleSelectSelectedIndex}\n              nextPotentialSelectionIndex={nextPotentialSelectionIndex}\n              isOptionsPanelOpen={isOptionsPanelOpen}\n              options={options}\n              selectBoxRef={this.selectBox}\n              title={title}\n              onHandleClick={this.onHandleClick}\n              backButtonName={backButtonName}\n            />\n          )}\n      </div>\n    );\n  }\n}\n\nexport * from './types/';\n","/** @license React v16.13.1\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var l=require(\"object-assign\"),n=\"function\"===typeof Symbol&&Symbol.for,p=n?Symbol.for(\"react.element\"):60103,q=n?Symbol.for(\"react.portal\"):60106,r=n?Symbol.for(\"react.fragment\"):60107,t=n?Symbol.for(\"react.strict_mode\"):60108,u=n?Symbol.for(\"react.profiler\"):60114,v=n?Symbol.for(\"react.provider\"):60109,w=n?Symbol.for(\"react.context\"):60110,x=n?Symbol.for(\"react.forward_ref\"):60112,y=n?Symbol.for(\"react.suspense\"):60113,z=n?Symbol.for(\"react.memo\"):60115,A=n?Symbol.for(\"react.lazy\"):\n60116,B=\"function\"===typeof Symbol&&Symbol.iterator;function C(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E={};function F(a,b,c){this.props=a;this.context=b;this.refs=E;this.updater=c||D}F.prototype.isReactComponent={};F.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(C(85));this.updater.enqueueSetState(this,a,b,\"setState\")};F.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\nfunction G(){}G.prototype=F.prototype;function H(a,b,c){this.props=a;this.context=b;this.refs=E;this.updater=c||D}var I=H.prototype=new G;I.constructor=H;l(I,F.prototype);I.isPureReactComponent=!0;var J={current:null},K=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,c){var e,d={},g=null,k=null;if(null!=b)for(e in void 0!==b.ref&&(k=b.ref),void 0!==b.key&&(g=\"\"+b.key),b)K.call(b,e)&&!L.hasOwnProperty(e)&&(d[e]=b[e]);var f=arguments.length-2;if(1===f)d.children=c;else if(1<f){for(var h=Array(f),m=0;m<f;m++)h[m]=arguments[m+2];d.children=h}if(a&&a.defaultProps)for(e in f=a.defaultProps,f)void 0===d[e]&&(d[e]=f[e]);return{$$typeof:p,type:a,key:g,ref:k,props:d,_owner:J.current}}\nfunction N(a,b){return{$$typeof:p,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===p}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+(\"\"+a).replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g,Q=[];function R(a,b,c,e){if(Q.length){var d=Q.pop();d.result=a;d.keyPrefix=b;d.func=c;d.context=e;d.count=0;return d}return{result:a,keyPrefix:b,func:c,context:e,count:0}}\nfunction S(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>Q.length&&Q.push(a)}\nfunction T(a,b,c,e){var d=typeof a;if(\"undefined\"===d||\"boolean\"===d)a=null;var g=!1;if(null===a)g=!0;else switch(d){case \"string\":case \"number\":g=!0;break;case \"object\":switch(a.$$typeof){case p:case q:g=!0}}if(g)return c(e,a,\"\"===b?\".\"+U(a,0):b),1;g=0;b=\"\"===b?\".\":b+\":\";if(Array.isArray(a))for(var k=0;k<a.length;k++){d=a[k];var f=b+U(d,k);g+=T(d,f,c,e)}else if(null===a||\"object\"!==typeof a?f=null:(f=B&&a[B]||a[\"@@iterator\"],f=\"function\"===typeof f?f:null),\"function\"===typeof f)for(a=f.call(a),k=\n0;!(d=a.next()).done;)d=d.value,f=b+U(d,k++),g+=T(d,f,c,e);else if(\"object\"===d)throw c=\"\"+a,Error(C(31,\"[object Object]\"===c?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":c,\"\"));return g}function V(a,b,c){return null==a?0:T(a,\"\",b,c)}function U(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(a.key):b.toString(36)}function W(a,b){a.func.call(a.context,b,a.count++)}\nfunction aa(a,b,c){var e=a.result,d=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?X(a,e,c,function(a){return a}):null!=a&&(O(a)&&(a=N(a,d+(!a.key||b&&b.key===a.key?\"\":(\"\"+a.key).replace(P,\"$&/\")+\"/\")+c)),e.push(a))}function X(a,b,c,e,d){var g=\"\";null!=c&&(g=(\"\"+c).replace(P,\"$&/\")+\"/\");b=R(b,g,e,d);V(a,aa,b);S(b)}var Y={current:null};function Z(){var a=Y.current;if(null===a)throw Error(C(321));return a}\nvar ba={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:J,IsSomeRendererActing:{current:!1},assign:l};exports.Children={map:function(a,b,c){if(null==a)return a;var e=[];X(a,e,null,b,c);return e},forEach:function(a,b,c){if(null==a)return a;b=R(null,null,b,c);V(a,W,b);S(b)},count:function(a){return V(a,function(){return null},null)},toArray:function(a){var b=[];X(a,b,null,function(a){return a});return b},only:function(a){if(!O(a))throw Error(C(143));return a}};\nexports.Component=F;exports.Fragment=r;exports.Profiler=u;exports.PureComponent=H;exports.StrictMode=t;exports.Suspense=y;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ba;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(C(267,a));var e=l({},a.props),d=a.key,g=a.ref,k=a._owner;if(null!=b){void 0!==b.ref&&(g=b.ref,k=J.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var f=a.type.defaultProps;for(h in b)K.call(b,h)&&!L.hasOwnProperty(h)&&(e[h]=void 0===b[h]&&void 0!==f?f[h]:b[h])}var h=arguments.length-2;if(1===h)e.children=c;else if(1<h){f=Array(h);for(var m=0;m<h;m++)f[m]=arguments[m+2];e.children=f}return{$$typeof:p,type:a.type,\nkey:d,ref:g,props:e,_owner:k}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:w,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:v,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:x,render:a}};exports.isValidElement=O;\nexports.lazy=function(a){return{$$typeof:A,_ctor:a,_status:-1,_result:null}};exports.memo=function(a,b){return{$$typeof:z,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return Z().useCallback(a,b)};exports.useContext=function(a,b){return Z().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return Z().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return Z().useImperativeHandle(a,b,c)};\nexports.useLayoutEffect=function(a,b){return Z().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return Z().useMemo(a,b)};exports.useReducer=function(a,b,c){return Z().useReducer(a,b,c)};exports.useRef=function(a){return Z().useRef(a)};exports.useState=function(a){return Z().useState(a)};exports.version=\"16.13.1\";\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","export { handleAlphaNumerical } from './handleAlphaNumerical';\nexport { handleBlur } from './handleBlur';\nexport { handleClick } from './handleClick';\nexport { handleEnterPressed } from './handleEnterPressed';\nexport { handleKeyEvent } from './handleKeyEvent';\nexport { handleKeyUpOrDownPressed } from './handleKeyUpOrDownPressed';\nexport { handleTouchMove } from './handleTouchMove';\nexport { handleTouchStart } from './handleTouchStart';\n","import * as actionTypes from '../../constants/actionTypes';\nimport ReactResponsiveSelect from '../../ReactResponsiveSelect';\nimport { IProps, IState } from '../../types/';\nimport {\n  multiSelectBroadcastChange,\n  singleSelectBroadcastChange,\n} from '../onChangeBroadcasters';\n\ninterface TArgs {\n  state: IState;\n  RRSClassRef: ReactResponsiveSelect;\n  props: IProps;\n}\n\nexport function handleBlur({ state, RRSClassRef, props }: TArgs): void {\n  const { onBlur, multiselect } = props;\n  const {\n    isOptionsPanelOpen,\n    disabled,\n    altered,\n    singleSelectSelectedOption,\n    multiSelectSelectedOptions,\n  } = state;\n\n  if (disabled) return;\n\n  const isOutsideSelectBox =\n    RRSClassRef.selectBox &&\n    !RRSClassRef.selectBox.contains(document.activeElement);\n\n  /* Handle click outside of selectbox */\n  if (isOptionsPanelOpen && isOutsideSelectBox) {\n    RRSClassRef.updateState({\n      type: actionTypes.SET_OPTIONS_PANEL_CLOSED_ONBLUR,\n    });\n  }\n\n  if (isOutsideSelectBox && onBlur) {\n    if (multiselect) {\n      multiSelectBroadcastChange(\n        multiSelectSelectedOptions.options,\n        Boolean(altered),\n        onBlur,\n      );\n    } else {\n      singleSelectBroadcastChange(\n        singleSelectSelectedOption,\n        Boolean(altered),\n        onBlur,\n      );\n    }\n  }\n}\n","import { IOutputMultiSelect, IOutputMultiSelectOption } from '../../types/';\nimport { isEqual } from '../../lib/isEqual';\n\nexport function multiSelectBroadcastChange(\n  currOptions: IOutputMultiSelectOption[],\n  altered: boolean,\n  fn?: (changes: IOutputMultiSelect) => void,\n  prevOptions?: IOutputMultiSelectOption[],\n): void {\n  if (!fn) return;\n\n  const shouldBroadcastChange = !prevOptions || !isEqual(prevOptions, currOptions);\n\n  if (shouldBroadcastChange) {\n    fn({\n      options: currOptions.map((currOption: IOutputMultiSelectOption) => ({\n        name: currOption.name || '',\n        text: currOption.text || '',\n        value: currOption.value || '',\n      })),\n      altered,\n    });\n  }\n}\n","import { IOutputSingleSelect } from '../../types/';\nimport { isEqual } from '../../lib/isEqual';\n\nexport function singleSelectBroadcastChange(\n  currValue: IOutputSingleSelect,\n  altered?: boolean,\n  fn?: (changes: IOutputSingleSelect) => void,\n  prevValue?: IOutputSingleSelect,\n): void {\n  if (!fn) return;\n\n  const shouldBroadcastChange = !isEqual(prevValue, currValue);\n\n  if (shouldBroadcastChange) {\n    fn({\n      name: currValue.name,\n      text: currValue.text,\n      value: currValue.value,\n      altered,\n    });\n  }\n}\n","export function containsClassName(element: HTMLElement, classNameStr: string): boolean {\n  return String(element.className).split(' ').indexOf(classNameStr) > -1;\n}\n","import * as actionTypes from '../../constants/actionTypes';\nimport { keyCodes } from '../../constants/keyCodes';\nimport ReactResponsiveSelect from '../../ReactResponsiveSelect';\nimport { IProps, IState } from '../../types/';\nimport { preventDefaultForKeyCodes } from '../preventDefaultForKeyCodes';\nimport { handleAlphaNumerical } from './handleAlphaNumerical';\nimport { handleClick } from './handleClick';\nimport { handleEnterPressed } from './handleEnterPressed';\nimport { handleKeyUpOrDownPressed } from './handleKeyUpOrDownPressed';\n\ninterface TArgs {\n  event: KeyboardEvent;\n  state: IState;\n  props: IProps;\n  RRSClassRef: ReactResponsiveSelect;\n}\n\nexport function handleKeyEvent({ event, state, props, RRSClassRef }: TArgs): void {\n  const { multiselect, isOptionsPanelOpen, disabled } = state;\n\n  if (disabled) return;\n\n  preventDefaultForKeyCodes(\n    [\n      keyCodes.ENTER,\n      keyCodes.SPACE,\n      keyCodes.ESCAPE,\n      keyCodes.UP,\n      keyCodes.DOWN,\n    ],\n    event,\n  );\n\n  /* handle alpha-nemeric key press */\n  if (/^[a-z0-9]+$/.test(event.key)) {\n    handleAlphaNumerical({ event, RRSClassRef, state });\n  }\n\n  switch (event.keyCode) {\n    case keyCodes.TAB:\n      /* Don't shift focus when the panel is open (unless it's a Multiselect) */\n      if (isOptionsPanelOpen) {\n        event.preventDefault();\n\n        /**\n         * Multiselect does not close on selection. Focus button to blur and close options panel on TAB\n         * TODO add a test for this\n         */\n        if (multiselect) {\n          RRSClassRef.updateState(\n            { type: actionTypes.SET_OPTIONS_PANEL_CLOSED },\n            () => RRSClassRef.focusButton(),\n          );\n        }\n      }\n      break;\n\n    case keyCodes.ENTER:\n      /* can close the panel when open and focussed\n       * can submit the form when closed and focussed */\n      handleEnterPressed({\n        RRSClassRef,\n        event,\n        props,\n        state,\n      });\n      break;\n\n    case keyCodes.SPACE:\n      /* close the panel and select option when open, or open the panel if closed */\n      if (isOptionsPanelOpen) {\n        handleClick({ event, state, RRSClassRef });\n      } else {\n        RRSClassRef.updateState({\n          type: actionTypes.SET_OPTIONS_PANEL_OPEN,\n        });\n      }\n      break;\n\n    case keyCodes.ESCAPE:\n      /* remove focus from the panel when focussed */\n      RRSClassRef.updateState(\n        { type: actionTypes.SET_OPTIONS_PANEL_CLOSED_NO_SELECTION },\n        () => RRSClassRef.focusButton(),\n      );\n      break;\n\n    case keyCodes.UP:\n      /* will open the options panel if closed\n       * will not decrement selection if options panel closed\n       * if panel open, will decrement up the options list */\n      handleKeyUpOrDownPressed({\n        RRSClassRef,\n        state,\n        type: 'DECREMENT',\n      });\n      break;\n\n    case keyCodes.DOWN:\n      /* will open the options panel if closed\n       * will not increment selection if options panel closed\n       * if panel open, will increment down the options list */\n      handleKeyUpOrDownPressed({\n        RRSClassRef,\n        state,\n        type: 'INCREMENT',\n      });\n      break;\n\n    default:\n      break;\n  }\n}\n","export const keyCodes = {\n  TAB: 9,\n  ENTER: 13,\n  SPACE: 32,\n  ESCAPE: 27,\n  UP: 38,\n  DOWN: 40,\n};\n","export function preventDefaultForKeyCodes(keyCodes: number[], e: KeyboardEvent): void {\n  keyCodes.forEach((keyCode: number) => {\n    if (keyCode === e.keyCode) {\n      e.preventDefault();\n    }\n  });\n}\n","import { IState } from '../types/';\nimport { nextValidIndex } from './nextValidIndex';\n\nexport function getNextIndex(mode: 'INCREMENT' | 'DECREMENT', state: IState): number {\n  const { isOptionsPanelOpen, nextPotentialSelectionIndex, options } = state;\n\n  switch (mode) {\n    case 'INCREMENT':\n      // Hold selection on current selected option when options panel first opens\n      if (isOptionsPanelOpen === false) {\n        return nextValidIndex(state, nextPotentialSelectionIndex, 'INCREMENT');\n      }\n\n      // User is at the end of the options so cycle back to start\n      if (nextPotentialSelectionIndex === options.length - 1) {\n        return nextValidIndex(state, 0, 'INCREMENT');\n      }\n\n      // Else increment\n      return nextValidIndex(state, nextPotentialSelectionIndex + 1, 'INCREMENT');\n\n    case 'DECREMENT':\n      // Hold selection on current selected option when options panel first opens\n      if (isOptionsPanelOpen === false) {\n        return nextValidIndex(state, nextPotentialSelectionIndex, 'DECREMENT');\n      }\n\n      // User is at start of the options so cycle around to end\n      if (nextPotentialSelectionIndex === 0) {\n        return nextValidIndex(state, options.length - 1, 'DECREMENT');\n      }\n\n      // Else decrement\n      return nextValidIndex(state, nextPotentialSelectionIndex - 1, 'DECREMENT');\n\n    default:\n      return nextValidIndex(state, 0, 'DECREMENT');\n  }\n}\n","import * as actionTypes from '../../constants/actionTypes';\nimport ReactResponsiveSelect from '../../ReactResponsiveSelect';\nimport { IState } from '../../types/';\n\ninterface TArgs {\n  state: IState;\n  RRSClassRef: ReactResponsiveSelect;\n}\n\nexport function handleTouchMove({ state, RRSClassRef }: TArgs): void {\n  /* if touchmove fired - User is dragging, this disables touchend/click */\n  const { isDragging, disabled } = state;\n\n  if (disabled) return;\n\n  if (!isDragging) {\n    RRSClassRef.updateState({\n      type: actionTypes.SET_IS_DRAGGING,\n      value: true,\n    });\n  }\n}\n","import * as actionTypes from '../../constants/actionTypes';\nimport ReactResponsiveSelect from '../../ReactResponsiveSelect';\nimport { IState } from '../../types/';\n\ninterface TArgs {\n  state: IState;\n  RRSClassRef: ReactResponsiveSelect;\n}\n\nexport function handleTouchStart({ state, RRSClassRef }: TArgs): void {\n  const { disabled } = state;\n\n  if (disabled) return;\n\n  /* initially it's assumed that the user is not dragging */\n  RRSClassRef.updateState({\n    type: actionTypes.SET_IS_DRAGGING,\n    value: false,\n  });\n}\n","import * as React from 'react';\nimport singleline from 'singleline-next';\nimport {\n  IOption,\n  IOutputMultiSelect,\n  IOutputMultiSelectOption,\n} from '../types/';\nimport { MultiSelectOption } from './MultiSelectOption';\n\ninterface TProps {\n  selectBoxRef: HTMLDivElement | null;\n  caretIcon: React.ReactNode;\n  customLabelText: React.ReactNode;\n  disabled: boolean;\n  isDragging: boolean;\n  isOptionsPanelOpen: boolean;\n  multiSelectSelectedIndexes: number[];\n  multiSelectSelectedOptions: IOutputMultiSelect;\n  name: string;\n  options: IOption[];\n  nextPotentialSelectionIndex: number;\n  prefix: string;\n}\n\nexport class MultiSelect extends React.Component<TProps> {\n  private optionsButton: React.RefObject<HTMLDivElement>;\n  private optionsContainer: React.RefObject<HTMLUListElement>;\n\n  constructor(props: TProps) {\n    super(props);\n    this.optionsButton = React.createRef();\n    this.optionsContainer = React.createRef();\n  }\n\n  public componentDidUpdate(prevProps: TProps): void {\n    /*\n      Focus selectBox button if options panel has just closed,\n      there has been an interaction or the value has changed\n    */\n    const { isOptionsPanelOpen, selectBoxRef } = this.props;\n\n    const optionsPanelJustClosed =\n      !isOptionsPanelOpen && prevProps.isOptionsPanelOpen;\n\n    if (\n      optionsPanelJustClosed &&\n      selectBoxRef &&\n      selectBoxRef.contains(document.activeElement)\n    ) {\n      // tslint:disable-next-line\n      this.optionsButton.current && this.optionsButton.current.focus();\n    }\n  }\n\n  public getAriaLabel(): string {\n    const { multiSelectSelectedOptions, prefix } = this.props;\n    const selectedOptionsLength = multiSelectSelectedOptions.options.length;\n\n    return singleline(`\n      Checkbox group ${prefix ? `${prefix} ` : ''} has\n      ${selectedOptionsLength} item${\n      selectedOptionsLength === 1 ? '' : 's'\n    } selected.\n      Selected option${selectedOptionsLength === 1 ? '' : 's'} ${\n      selectedOptionsLength === 1 ? 'is' : 'are'\n    }\n      ${multiSelectSelectedOptions.options\n        .map((option: IOutputMultiSelectOption): string => option.text || '')\n        .join(' and ')}\n    `);\n  }\n\n  public render(): React.ReactNode {\n    const {\n      caretIcon,\n      customLabelText,\n      disabled,\n      isOptionsPanelOpen,\n      multiSelectSelectedIndexes,\n      multiSelectSelectedOptions,\n      name,\n      options,\n      nextPotentialSelectionIndex,\n      prefix,\n    } = this.props;\n\n    let optHeaderLabel: string = '';\n\n    return (\n      <div>\n        <div\n          role=\"button\"\n          tabIndex={0}\n          aria-disabled={disabled}\n          aria-haspopup=\"true\"\n          aria-expanded={isOptionsPanelOpen}\n          aria-controls={`rrs-${name}-menu`}\n          ref={this.optionsButton}\n          className={singleline(`\n            rrs__button\n            ${disabled === true ? 'rrs__button--disabled' : ''}\n          `)}\n        >\n          {customLabelText && (\n            <div className=\"rrs__label\">\n              <span\n                aria-label={this.getAriaLabel()}\n                className=\"rrs__label__text\"\n                id={`rrs-${name}-label`}\n                data-testid={`rrs-label_${name}`}\n              >\n                {customLabelText}\n              </span>\n              {caretIcon && caretIcon}\n            </div>\n          )}\n\n          {!customLabelText && (\n            <div className=\"rrs__label\">\n              <span\n                aria-label={this.getAriaLabel()}\n                className=\"rrs__label__text\"\n                id={`rrs-${name}-label`}\n                data-testid={`rrs-label_${name}`}\n              >\n                <span className=\"rrs__multiselect-label\">\n                  <span className=\"rrs__multiselect-label__text\">\n                    {`${prefix ? `${prefix} ` : ''}\n                  ${\n                    multiSelectSelectedOptions.options.length > 0\n                      ? multiSelectSelectedOptions.options[0].text\n                      : ''\n                  }`}\n                  </span>\n                  {multiSelectSelectedOptions.options.length > 1 && (\n                    <span className=\"rrs__multiselect-label__badge\">\n                      {`+ ${multiSelectSelectedOptions.options.length - 1}`}\n                    </span>\n                  )}\n                </span>\n              </span>\n              {caretIcon && caretIcon}\n            </div>\n          )}\n\n          {name && (\n            <input\n              type=\"hidden\"\n              name={name}\n              data-testid={`rrs-input_${name}`}\n              value={[\n                multiSelectSelectedOptions.options.map(\n                  (v: IOutputMultiSelectOption) => v.value,\n                ),\n              ].join(',')}\n            />\n          )}\n        </div>\n\n        <ul\n          id={`rrs-${name}-menu`}\n          aria-labelledby={`rrs-${name}-label`}\n          role=\"menu\"\n          className=\"rrs__options\"\n          ref={this.optionsContainer}\n        >\n          {options.length > 0 &&\n            options.map((option: IOption, index: number) => {\n              if (option.optHeader) {\n                optHeaderLabel =\n                  option.text ||\n                  (option.markup &&\n                    (option.markup as HTMLElement).textContent) ||\n                  '';\n              }\n              return (\n                <MultiSelectOption\n                  key={index}\n                  name={name}\n                  optHeaderLabel={optHeaderLabel}\n                  optionsContainerRef={this.optionsContainer}\n                  index={index}\n                  option={option}\n                  isOptionsPanelOpen={isOptionsPanelOpen}\n                  multiSelectSelectedIndexes={multiSelectSelectedIndexes}\n                  nextPotentialSelectionIndex={nextPotentialSelectionIndex}\n                />\n              );\n            })}\n        </ul>\n      </div>\n    );\n  }\n}\n","import * as React from 'react';\nimport singleline from 'singleline-next';\nimport { IOption } from '../types/';\n\ninterface TProps {\n  name: string;\n  index: number;\n  isOptionsPanelOpen: boolean;\n  nextPotentialSelectionIndex: number;\n  optionsContainerRef: React.RefObject<HTMLUListElement>;\n  optHeaderLabel: string;\n  multiSelectSelectedIndexes: number[];\n  option: IOption;\n}\n\nexport class MultiSelectOption extends React.Component<TProps> {\n  private optionRef: React.RefObject<HTMLLIElement>;\n  private scrollOffset: number;\n\n  constructor(props: TProps) {\n    super(props);\n    this.optionRef = React.createRef();\n  }\n\n  public getScrollOffset(): number {\n    const el = document.querySelector('.rrs__option--header');\n    return Math.ceil((el && el.getBoundingClientRect().height) || 0);\n  }\n\n  public componentDidUpdate(): void {\n    const {\n      index,\n      isOptionsPanelOpen,\n      nextPotentialSelectionIndex,\n      optionsContainerRef,\n      optHeaderLabel,\n    } = this.props;\n\n    if (index === nextPotentialSelectionIndex && isOptionsPanelOpen) {\n      if (this.optionRef.current && optionsContainerRef.current) {\n        this.optionRef.current.focus();\n\n        if (optHeaderLabel !== '') {\n          const scrollDiff = Math.ceil(\n            this.optionRef.current.getBoundingClientRect().top -\n              optionsContainerRef.current.getBoundingClientRect().top,\n          );\n\n          this.scrollOffset = this.scrollOffset || this.getScrollOffset();\n\n          if (scrollDiff < this.scrollOffset) {\n            optionsContainerRef.current.scroll(\n              0,\n              Math.floor(\n                optionsContainerRef.current.scrollTop - this.scrollOffset,\n              ),\n            );\n          }\n        }\n      }\n    }\n  }\n\n  public isDisabled(option: IOption): boolean {\n    return Boolean(option.disabled || option.optHeader);\n  }\n\n  public render(): React.ReactNode {\n    const {\n      index,\n      name,\n      multiSelectSelectedIndexes,\n      nextPotentialSelectionIndex,\n      option,\n      optHeaderLabel,\n    } = this.props;\n    const isSelected = multiSelectSelectedIndexes.some(\n      (i: number) => i === index,\n    );\n\n    return (\n      <li\n        role=\"checkbox\"\n        data-testid={`rrs-option_${name}_${index}`}\n        tabIndex={-1}\n        aria-checked={isSelected}\n        aria-label={`\n        ${option.text ||\n          (option.markup && (option.markup as HTMLElement).textContent)} ${\n          optHeaderLabel !== '' ? ` of ${optHeaderLabel}` : ''\n        }\n      `}\n        aria-live=\"assertive\"\n        aria-disabled={this.isDisabled(option) ? 'true' : 'false'}\n        data-key={index}\n        ref={this.optionRef}\n        className={singleline(`\n          rrs__option\n          ${isSelected ? 'rrs__option--selected' : ''}\n          ${\n            nextPotentialSelectionIndex === index\n              ? 'rrs__option--next-selection'\n              : ''\n          }\n          ${option.disabled === true ? 'rrs__option--disabled' : ''}\n          ${option.optHeader === true ? 'rrs__option--header' : ''}\n        `)}\n      >\n        {option.markup || option.text}\n      </li>\n    );\n  }\n}\n","import * as React from 'react';\n\nimport { IOption, IOutputSingleSelect } from '../types/';\n\nimport { SingleSelectOption } from './SingleSelectOption';\nimport singleline from 'singleline-next';\n\ninterface TProps {\n  prefix: string;\n  singleSelectSelectedOption: IOutputSingleSelect;\n  name: string;\n  caretIcon: React.ReactNode;\n  singleSelectSelectedIndex: number;\n  noSelectionLabel: string;\n  isOptionsPanelOpen: boolean;\n  nextPotentialSelectionIndex: number;\n  selectBoxRef: HTMLDivElement | null;\n  customLabelText: React.ReactNode;\n  disabled: boolean;\n  options: IOption[];\n  title?: any;\n  backButtonName?: string;\n  onHandleClick?: any;\n}\n\nexport class SingleSelect extends React.Component<TProps> {\n  private optionsButton: React.RefObject<HTMLDivElement>;\n  private optionsContainer: React.RefObject<HTMLUListElement>;\n\n  constructor(props: TProps) {\n    super(props);\n    this.optionsButton = React.createRef();\n    this.optionsContainer = React.createRef();\n  }\n\n  public componentDidUpdate(prevProps: TProps): void {\n    /*\n      Focus selectBox button if options panel has just closed,\n      there has been an interaction,\n      or isOptionsPanelOpen and nextPotentialSelectionIndex === -1\n    */\n    const {\n      isOptionsPanelOpen,\n      nextPotentialSelectionIndex,\n      selectBoxRef,\n    } = this.props;\n\n    const optionsPanelJustClosed =\n      !isOptionsPanelOpen && prevProps.isOptionsPanelOpen;\n\n    if (this.optionsButton.current) {\n      if (\n        optionsPanelJustClosed &&\n        selectBoxRef &&\n        selectBoxRef.contains(document.activeElement)\n      ) {\n        this.optionsButton.current.focus();\n      }\n\n      if (isOptionsPanelOpen && nextPotentialSelectionIndex === -1) {\n        this.optionsButton.current.focus();\n      }\n    }\n  }\n\n  public getCustomLabel(): React.ReactNode {\n    const {\n      prefix,\n      name,\n      singleSelectSelectedOption,\n      caretIcon,\n      customLabelText,\n    } = this.props;\n\n    return (\n      <div className=\"rrs__label\">\n        <span\n          aria-label={`${prefix ? `${prefix} ` : ''}${\n            singleSelectSelectedOption.text\n            } selected`}\n          className=\"rrs__label__text\"\n          id={`rrs-${name}-label`}\n          data-testid={`rrs-label_${name}`}\n        >\n          {customLabelText}\n        </span>\n        {caretIcon && caretIcon}\n      </div>\n    );\n  }\n\n  public getDefaultLabel(): React.ReactNode {\n    const {\n      prefix,\n      singleSelectSelectedOption,\n      name,\n      caretIcon,\n      singleSelectSelectedIndex,\n      noSelectionLabel,\n    } = this.props;\n\n    if (singleSelectSelectedIndex === -1) {\n      return (\n        <div className=\"rrs__label\">\n          <span\n            aria-label={noSelectionLabel}\n            className=\"rrs__label__text\"\n            id={`rrs-${name}-label`}\n            data-testid={`rrs-label_${name}`}\n          >\n            {prefix && <span>{prefix}</span>}\n            {noSelectionLabel}\n          </span>\n          {caretIcon && caretIcon}\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"rrs__label\">\n        <span\n          aria-label={`${prefix ? `${prefix} ` : ''}${\n            singleSelectSelectedOption.text\n            } selected`}\n          className=\"rrs__label__text\"\n          id={`rrs-${name}-label`}\n          data-testid={`rrs-label_${name}`}\n        >\n          {prefix && <span>{prefix}</span>}\n          {singleSelectSelectedOption.text ? (\n            singleSelectSelectedOption.text\n          ) : (\n              <div>&nbsp;</div>\n            )}\n        </span>\n        {caretIcon && caretIcon}\n      </div>\n    );\n  }\n\n  public render(): React.ReactNode {\n    const {\n      customLabelText,\n      title,\n      backButtonName,\n      disabled,\n      isOptionsPanelOpen,\n      name,\n      nextPotentialSelectionIndex,\n      options,\n      singleSelectSelectedIndex,\n      singleSelectSelectedOption,\n    } = this.props;\n\n    let optHeaderLabel: string = '';\n\n    console.log(this.props);\n\n    return (\n      <div>\n        <div\n          role=\"button\"\n          tabIndex={0}\n          aria-disabled={disabled}\n          aria-haspopup=\"true\"\n          aria-expanded={isOptionsPanelOpen}\n          aria-controls={`rrs-${name}-menu`}\n          ref={this.optionsButton}\n          className={singleline(`\n            rrs__button\n            ${disabled === true ? 'rrs__button--disabled' : ''}\n          `)}\n        >\n          {customLabelText ? this.getCustomLabel() : this.getDefaultLabel()}\n\n          {name && (\n            <input\n              type=\"hidden\"\n              name={name}\n              data-testid={`rrs-input_${name}`}\n              value={singleSelectSelectedOption.value}\n            />\n          )}\n        </div>\n\n        {isOptionsPanelOpen &&\n          <div id={`rss-${name}-title`} className=\"rrs_title d-flex d-md-none\">\n            <div className=\"rrs_title_item_button\">\n              <button type=\"button\" id={`rss-${name}-back`} onClick={this.props.onHandleClick} className=\"btn btn-link rrs_title_button button_close\">\n              <span><span className=\"arrow_button\">&#8249;</span> {backButtonName}</span></button>\n            </div>\n          </div>\n        }\n\n        <ul\n          id={`rrs-${name}-menu`}\n          aria-labelledby={`rrs-${name}-label`}\n          role=\"menu\"\n          className=\"rrs__options\"\n          ref={this.optionsContainer}\n        >\n          {isOptionsPanelOpen &&\n            <div id={`rss-${name}-subtitle`} className=\"rrs_subtitle d-flex d-md-none\">\n              <div className=\"rrs_title_item\">\n              <span id={`rss-${name}-title-mobile`} className=\"rrs_title_value\">{title}</span>\n              </div>\n            </div>\n          }\n\n          {options.length > 0 &&\n            options.map((option: IOption, index: number) => {\n              if (option.optHeader) {\n                optHeaderLabel =\n                  option.text ||\n                  (option.markup &&\n                    (option.markup as HTMLElement).textContent) ||\n                  '';\n              }\n              return (\n                <SingleSelectOption\n                  key={index}\n                  name={name}\n                  optHeaderLabel={optHeaderLabel}\n                  optionsContainerRef={this.optionsContainer}\n                  index={index}\n                  isOptionsPanelOpen={isOptionsPanelOpen}\n                  option={option}\n                  singleSelectSelectedIndex={singleSelectSelectedIndex}\n                  nextPotentialSelectionIndex={nextPotentialSelectionIndex}\n                />\n              );\n            })}\n        </ul>\n      </div>\n    );\n  }\n}\n","import * as React from 'react';\n\nimport { IOption } from '../types/';\nimport singleline from 'singleline-next';\n\ninterface TProps {\n  index: number;\n  name: string;\n  isOptionsPanelOpen: boolean;\n  optionsContainerRef: React.RefObject<HTMLUListElement>;\n  nextPotentialSelectionIndex: number;\n  option: any;\n  singleSelectSelectedIndex: number;\n  optHeaderLabel: string;\n}\n\nexport class SingleSelectOption extends React.Component<TProps> {\n  private optionRef: React.RefObject<HTMLLIElement>;\n  private scrollOffset: number;\n\n  constructor(props: TProps) {\n    super(props);\n    this.optionRef = React.createRef();\n  }\n\n  public getScrollOffset(): number {\n    const el = document.querySelector('.rrs__option--header');\n    return Math.ceil((el && el.getBoundingClientRect().height) || 0);\n  }\n\n  public componentDidUpdate(): void {\n    const {\n      index,\n      isOptionsPanelOpen,\n      nextPotentialSelectionIndex,\n      optionsContainerRef,\n      optHeaderLabel,\n    } = this.props;\n\n    if (index === nextPotentialSelectionIndex && isOptionsPanelOpen) {\n      if (this.optionRef.current && optionsContainerRef.current) {\n        this.optionRef.current.focus();\n\n        if (optHeaderLabel !== '') {\n          const scrollDiff = Math.ceil(\n            this.optionRef.current.getBoundingClientRect().top -\n            optionsContainerRef.current.getBoundingClientRect().top,\n          );\n\n          this.scrollOffset = this.scrollOffset || this.getScrollOffset();\n\n          if (scrollDiff < this.scrollOffset) {\n            optionsContainerRef.current.scroll(\n              0,\n              Math.floor(\n                optionsContainerRef.current.scrollTop - this.scrollOffset,\n              ),\n            );\n          }\n        }\n      }\n    }\n  }\n\n  public isDisabled(option: IOption): boolean {\n    return Boolean(option.disabled || option.optHeader);\n  }\n\n  public render(): React.ReactNode {\n    const {\n      index,\n      name,\n      nextPotentialSelectionIndex,\n      option,\n      singleSelectSelectedIndex,\n      optHeaderLabel,\n    } = this.props;\n\n    return (\n      <li\n        role=\"menuitem\"\n        data-testid={`rrs-option_${name}_${index}`}\n        tabIndex={-1}\n        aria-disabled={this.isDisabled(option) ? 'true' : 'false'}\n        aria-label={`\n          ${option.text ||\n          (option.markup && (option.markup as HTMLElement).textContent)} ${\n          optHeaderLabel !== '' ? ` of ${optHeaderLabel}` : ''\n          }\n        `}\n        data-key={index}\n        ref={this.optionRef}\n        className={singleline(`\n          rrs__option\n          ${singleSelectSelectedIndex === index ? 'rrs__option--selected' : ''}\n          ${\n          nextPotentialSelectionIndex === index\n            ? 'rrs__option--next-selection'\n            : ''\n          }\n          ${option.disabled === true ? 'rrs__option--disabled' : ''}\n          ${option.optHeader === true ? 'rrs__option--header' : ''}\n        `)}\n      >\n        {option.image &&\n          option.svg ? (\n            <div className=\"imgWithSvg\">\n              <svg dangerouslySetInnerHTML={{ __html: option.svg }} fill={option.color}></svg>\n\n              <img alt={option.text.replace(\"<[^>]*>\", \"\")} src={option.image} />\n            </div>\n          ) : (\n            <div className=\"imgWithoutSvg\">\n              <img alt={option.text.replace(\"<[^>]*>\", \"\")} src={option.image} />\n            </div>\n          )}\n\n        <div className=\"rrs__option__container\">\n          <div className=\"rrs__option__subcontainer\">\n            <span dangerouslySetInnerHTML={{ __html: option.text }}></span>\n            <span className=\"rrs_arrow\">&#8250;</span>\n          </div>\n        </div>\n      </li>\n    );\n  }\n}\n","import * as React from 'react';\nimport { IProps, IState } from '../types/';\n\ninterface TArgs {\n  state: IState;\n  props: IProps;\n}\n\nexport function getCustomLabelText({ state, props }: TArgs): React.ReactNode {\n  const { multiselect, customLabelRenderer } = props;\n  const { multiSelectSelectedOptions, singleSelectSelectedOption } = state;\n\n  if (!customLabelRenderer) return false;\n\n  if (multiselect) {\n    return customLabelRenderer(multiSelectSelectedOptions);\n  }\n\n  return customLabelRenderer(singleSelectSelectedOption);\n}\n","import * as actionTypes from '../constants/actionTypes';\n\nimport { IAction, IOption, IState } from '../types/';\nimport {\n  addMultiSelectIndex,\n  addMultiSelectOption,\n  getInitialMultiSelectOption,\n  getMultiSelectInitialSelectedOptions,\n  getMultiSelectSelectedValueIndexes,\n  getSelectedValueIndex,\n  getSingleSelectSelectedOption,\n  mergeIsAlteredState,\n  removeMultiSelectIndex,\n  removeMultiSelectOption,\n  resetMultiSelectState,\n} from './lib';\n\nimport { nextValidIndex } from '../lib/nextValidIndex';\n\nexport function reducer(state: IState, action: IAction): IState {\n  switch (action.type) {\n    case actionTypes.UPDATE_VIA_PROPS:\n    case actionTypes.INITIALISE: {\n      const initialSelectedIndex = getSelectedValueIndex(action.value);\n      const initialSelectedIndexes = getMultiSelectSelectedValueIndexes(\n        action.value,\n        action.value.selectedValues,\n        action.value.noSelectionLabel,\n      );\n\n      return {\n        ...state,\n\n        hasOptHeaders: action.value.options.some(\n          (option: IOption) => option.optHeader === true,\n        ),\n\n        // Constants\n        multiselect: action.value.multiselect || false,\n\n        // Optional nothing selected label\n        noSelectionLabel: action.value.noSelectionLabel,\n\n        // Universal\n        name: action.value.name,\n        options: action.value.options,\n        altered: action.value.altered || false,\n        disabled: action.value.disabled || false,\n        backButtonName: action.value.backButtonName,\n        title: action.value.title,\n\n        // Single select\n        singleSelectInitialIndex: initialSelectedIndex,\n        singleSelectSelectedIndex: initialSelectedIndex,\n        singleSelectSelectedOption: getSingleSelectSelectedOption(\n          action.value,\n          initialSelectedIndex,\n        ),\n\n        // For determining highlighted item on Keyboard navigation and selection via UPDATE_VIA_PROPS\n        // If UPDATE_VIA_PROPS and state exists, re-select nextPotentialSelectionIndex from state\n        nextPotentialSelectionIndex: state.nextPotentialSelectionIndex\n          ? state.nextPotentialSelectionIndex\n          : initialSelectedIndex,\n\n        // Multi select\n        multiSelectInitialSelectedIndexes: initialSelectedIndexes,\n        multiSelectSelectedIndexes: initialSelectedIndexes,\n        multiSelectSelectedOptions: {\n          options: getMultiSelectInitialSelectedOptions(\n            action.value,\n            action.value.selectedValues,\n          ),\n        },\n      };\n    }\n\n    case actionTypes.SET_IS_DRAGGING:\n      return {\n        ...state,\n        isDragging: action.value,\n      };\n\n    case actionTypes.SET_OPTIONS_PANEL_OPEN: {\n      const newState = {\n        ...state,\n        isOptionsPanelOpen: true,\n\n        // For determining highlighted item on Keyboard navigation\n        nextPotentialSelectionIndex: ((): number => {\n          if (state.multiselect) {\n            return state.multiSelectSelectedIndexes.length\n              ? nextValidIndex(state, state.multiSelectSelectedIndexes[0])\n              : nextValidIndex(state, 0);\n          }\n          return nextValidIndex(state, state.nextPotentialSelectionIndex);\n        })(),\n\n        singleSelectSelectedOption: getSingleSelectSelectedOption(\n          state,\n          state.nextPotentialSelectionIndex,\n        ),\n      };\n\n      return mergeIsAlteredState(newState);\n    }\n\n    case actionTypes.SET_OPTIONS_PANEL_CLOSED: {\n      const newState = {\n        ...state,\n        isOptionsPanelOpen: false,\n        singleSelectSelectedIndex: state.nextPotentialSelectionIndex,\n        singleSelectSelectedOption: getSingleSelectSelectedOption(\n          state,\n          state.nextPotentialSelectionIndex,\n        ),\n      };\n      return mergeIsAlteredState(newState);\n    }\n\n    case actionTypes.SET_OPTIONS_PANEL_CLOSED_NO_SELECTION:\n    case actionTypes.SET_OPTIONS_PANEL_CLOSED_ONBLUR:\n      return {\n        ...state,\n        isOptionsPanelOpen: false,\n      };\n\n    case actionTypes.SET_NEXT_SELECTED_INDEX:\n      return {\n        ...state,\n        nextPotentialSelectionIndex: action.value,\n      };\n\n    case actionTypes.SET_NEXT_SELECTED_INDEX_ALPHA_NUMERIC:\n      return {\n        ...state,\n        isOptionsPanelOpen: true,\n        nextPotentialSelectionIndex: action.value,\n      };\n\n    case actionTypes.SET_SINGLESELECT_OPTIONS: {\n      const nextState = {\n        ...state,\n        nextPotentialSelectionIndex: action.value,\n        singleSelectSelectedIndex: action.value,\n        isOptionsPanelOpen: false,\n        singleSelectSelectedOption: getSingleSelectSelectedOption(\n          state,\n          action.value,\n        ),\n      };\n\n      // Set altered state\n      return mergeIsAlteredState(nextState);\n    }\n\n    case actionTypes.SET_MULTISELECT_OPTIONS: {\n      if (!state.noSelectionLabel) {\n        const isFirstOptionInListSelected =\n          state.multiSelectSelectedIndexes[0] === 0 &&\n          state.multiSelectSelectedIndexes.length === 1;\n\n        // If anything selected and first option was requested, deselect all, then select first option\n        const shouldDeselectAllAndSelectFirstOption =\n          state.multiSelectSelectedIndexes.length > 0 &&\n          !isFirstOptionInListSelected &&\n          action.value === 0 &&\n          !state.noSelectionLabel;\n\n        // Deselect first option when any other value is requested\n        const shouldDeselectFirstOptionAndSelectRequestedOption =\n          isFirstOptionInListSelected && action.value !== 0;\n\n        // If any thing selected and first option was requested, deselect all, and return first option\n        if (shouldDeselectAllAndSelectFirstOption) {\n          return mergeIsAlteredState(getInitialMultiSelectOption(state));\n        }\n\n        // Deselect first option when first option selected and another option is requested\n        if (shouldDeselectFirstOptionAndSelectRequestedOption) {\n          // eslint-disable-next-line no-param-reassign\n          state = resetMultiSelectState(state);\n        }\n      }\n\n      // Remove noSelectionLabel from selected options if something is selected\n      if (\n        state.noSelectionLabel &&\n        state.multiSelectSelectedOptions.options[0].text ===\n          state.noSelectionLabel\n      ) {\n        // eslint-disable-next-line no-param-reassign\n        state.multiSelectSelectedOptions.options = [];\n      }\n\n      // With optHeader, action.value can go out of bounds - check and adjust the value of value when requried\n      const actionOptionIndexAdjusted = nextValidIndex(state, action.value);\n\n      // Find index of requested option\n      const indexLocation = state.multiSelectSelectedIndexes.indexOf(\n        actionOptionIndexAdjusted,\n      );\n\n      // If requested item does not exist, add it. Else remove it\n      let nextState = {\n        ...state,\n        nextPotentialSelectionIndex: actionOptionIndexAdjusted,\n        multiSelectSelectedIndexes:\n          indexLocation === -1\n            ? addMultiSelectIndex(state, actionOptionIndexAdjusted)\n            : removeMultiSelectIndex(state, indexLocation),\n        multiSelectSelectedOptions:\n          indexLocation === -1\n            ? addMultiSelectOption(state, actionOptionIndexAdjusted)\n            : removeMultiSelectOption(state, indexLocation),\n      };\n\n      if (nextState.multiSelectSelectedOptions.options.length === 0) {\n        // Reset to noSelectionLabel if user has deselected all items and has set a `noSelectionLabel` prop\n        if (state.noSelectionLabel) {\n          nextState = {\n            ...nextState,\n            nextPotentialSelectionIndex: state.hasOptHeaders\n              ? nextValidIndex(state, -1)\n              : -1,\n            multiSelectSelectedOptions: {\n              options: getMultiSelectInitialSelectedOptions(state),\n            },\n          };\n        } else if (!state.noSelectionLabel) {\n          // Select first option if user has deselected all items\n          nextState = getInitialMultiSelectOption(state);\n        }\n      }\n      // Set altered state\n      return mergeIsAlteredState(nextState);\n    }\n    default:\n      return state;\n  }\n}\n","export { addMultiSelectIndex } from './addMultiSelectIndex';\nexport { addMultiSelectOption } from './addMultiSelectOption';\nexport { getInitialMultiSelectOption } from './getInitialMultiSelectOption';\nexport { getMultiSelectInitialSelectedOptions } from './getMultiSelectInitialSelectedOptions';\nexport { getMultiSelectSelectedValueIndexes } from './getMultiSelectSelectedValueIndexes';\nexport { getSelectedValueIndex } from './getSelectedValueIndex';\nexport { getSingleSelectSelectedOption } from './getSingleSelectSelectedOption';\nexport { mergeIsAlteredState } from './mergeIsAlteredState';\nexport { removeMultiSelectIndex } from './removeMultiSelectIndex';\nexport { removeMultiSelectOption } from './removeMultiSelectOption';\nexport { resetMultiSelectState } from './resetMultiSelectState';\n","import { IState } from '../../types/';\n\nexport function addMultiSelectIndex(state: IState, index: number): number[] {\n  return [...state.multiSelectSelectedIndexes, index];\n}\n","import { IOutputMultiSelect, IState } from '../../types/';\n\nexport function addMultiSelectOption(state: IState, index: number): IOutputMultiSelect {\n  return {\n    options: [\n      ...state.multiSelectSelectedOptions.options,\n      {\n        name: state.name,\n        text: state.options[index].text,\n        value: state.options[index].value,\n      },\n    ],\n  };\n}\n","import { IOption, IState } from '../../types/';\n\ninterface IOutputMultiSelectOptionSansDisabled {\n  value?: string;\n  text?: string;\n  name?: string;\n}\n\ninterface IFindClosestValidOptionOutput {\n  option: IOutputMultiSelectOptionSansDisabled;\n  index: number;\n}\n\nfunction findClosestValidOption(state: IState): { option: IOutputMultiSelectOptionSansDisabled; index: number } {\n  const { options, name } = state;\n  const possibleOptions = options.reduce(\n    (acc: IFindClosestValidOptionOutput[], option: IOption, index: number) => {\n      if (!option.optHeader) {\n        acc.push({\n          option: { value: option.value, text: option.text, name },\n          index,\n        });\n      }\n      return acc;\n    }, []);\n\n  // Note: Will fail if there is only one option, and it is an optHeader\n  return possibleOptions[0];\n}\n\nexport function getInitialMultiSelectOption(state: IState): IState {\n  //: { option: IOutputMultiSelectOptionSansDisabled; index: number; }\n  const { option, index } = findClosestValidOption(state);\n\n  return {\n    ...state,\n    multiSelectSelectedIndexes: [index],\n    multiSelectSelectedOptions: { options: [{ ...option }] },\n    nextPotentialSelectionIndex: index,\n  };\n}\n","import { IOption, IOutputMultiSelectOption, IState } from '../../types/';\n\n/* Use existing state.singleSelectSelectedOption, or first possible option to use as a selection */\nfunction findClosestValidOption(state: IState): IOutputMultiSelectOption {\n  const { multiSelectSelectedOptions, options, name } = state;\n\n  if (multiSelectSelectedOptions && multiSelectSelectedOptions.options.length) {\n    return multiSelectSelectedOptions.options[0];\n  }\n\n  const possibleOptions = options.reduce((acc: IOption[], option: IOption) => {\n    if (!option.optHeader) acc.push(option);\n    return acc;\n  }, []);\n\n  // Note: Will fail if no non-optHeader options exist\n  return {\n    name,\n    text: possibleOptions[0].text,\n    value: possibleOptions[0].value,\n  };\n}\n\nexport function getMultiSelectInitialSelectedOptions(state: IState, selectedValues?: string[]): IOutputMultiSelectOption[] {\n  const { noSelectionLabel, options, name } = state;\n\n  let selectedOptionsToReturn;\n\n  if (!noSelectionLabel ) {\n    // Preselect the first item in the list when if no noSelectionLabel exists\n    if (selectedValues && selectedValues.length > 0) {\n      // Grab selected options by matching option.value with selectedValues, and merge in `name`\n      selectedOptionsToReturn = options\n        .filter((option: IOption) => selectedValues.some((selectedValue: string) => selectedValue === option.value))\n        .map((option: IOption) => ({ name, ...option }));\n    \n    } else {\n      // Grab first option and merge in `name`\n      const option = options[0] && options[0].optHeader\n        ? findClosestValidOption(state)\n        : options[0];\n\n      selectedOptionsToReturn = [{\n        name,\n        text: option.text,\n        value: option.value,\n      }];\n    }\n\n    return selectedOptionsToReturn;\n  }\n\n  selectedOptionsToReturn = selectedValues && selectedValues.length > 0\n    ? options.reduce((acc: any[], option: IOption) => {\n        if (selectedValues.some((selectedValue: string) => selectedValue === option.value)) {\n          acc.push({ ...option });\n        }\n        return acc;\n      }, [])\n    : [{\n          name: state.name,\n          text: noSelectionLabel,\n          value: 'null',\n      }];\n\n  return selectedOptionsToReturn;\n}\n","import { nextValidIndex } from '../../lib/nextValidIndex';\nimport { IState } from '../../types/';\n\nexport function getMultiSelectSelectedValueIndexes(\n  state: IState,\n  selectedValues: string[] = [],\n  noSelectionLabel?: string,\n): number[] {\n  const { options } = state;\n  const emptyResult = noSelectionLabel ? [] : [nextValidIndex(state, 0)];\n\n  /* return the index of the found item, if found */\n  const result = options.reduce((acc: any, option: any, value: number) => {\n      if (selectedValues.some((selected: string) => option.value === selected)) {\n        acc.push(value);\n      }\n      return acc;\n    }, []);\n\n  /* If something found return that, else return the first item */\n  return result.length > 0 ? result : emptyResult;\n}\n","import { IOption } from '../../types/';\n\ninterface TArgs {\n  options: IOption[];\n  selectedValue: string;\n  noSelectionLabel: string;\n}\n\nexport function getSelectedValueIndex({ options, selectedValue, noSelectionLabel }: TArgs): number {\n  const index = selectedValue\n    ? options.map((option: IOption) => option.value).indexOf(selectedValue)\n    : -1;\n\n  // Allow a negative index if user wants to display a noSelectionLabel\n  // Keyboard will not focus on an option when first opened\n\n  // Select the first option when panel opens if !noSelectionLabel\n  return index > -1 || noSelectionLabel ? index : 0;\n}\n","import { IOption, IState } from '../../types/';\n\n/*\n  use existing state.singleSelectSelectedOption, or first possible option to use as a selection\n*/\nfunction closestValidOption(state: IState): IOption & { name?: string; } {\n  if (state.singleSelectSelectedOption) {\n    return state.singleSelectSelectedOption;\n  }\n\n  const possibleOptions: IOption[] = state.options.reduce((acc: IOption[], option: IOption): IOption[] => {\n    if (!option.optHeader) {\n      acc.push(option);\n    }\n    return acc;\n  }, []);\n\n  // Note: Will fail if no non-optHeader options exist\n  return {\n    ...possibleOptions[0],\n    name: state.name,\n  };\n}\n\nexport function getSingleSelectSelectedOption(state: IState, initialSelectedIndex: number = 0): IOption & { name?: string; } {\n  const selectionIndex = (initialSelectedIndex === -1 && !state.noSelectionLabel)\n    ? 0\n    : initialSelectedIndex;\n\n  // if optHeader, then use existing state.singleSelectSelectedOption, or findClosestValidOption\n  if (\n    state.options[selectionIndex] &&\n    state.options[selectionIndex].optHeader\n  ) {\n    return closestValidOption(state);\n  }\n\n  // Has selection, has no selection use default noSelectionLabel (if exists) and nullify value\n  if (!state.noSelectionLabel) {\n    // Preselect the first item in the list when if no noSelectionLabel exists\n    return {\n      name: state.name,\n      ...state.options[selectionIndex],\n    };\n  }\n\n  return initialSelectedIndex > -1\n    ? {\n        name: state.name,\n        ...state.options[initialSelectedIndex],\n      }\n    : {\n        name: state.name,\n        text: state.noSelectionLabel,\n        value: 'null',\n      };\n}\n","import { IState } from '../../types/';\n\nexport function isAltered(newState: IState): boolean {\n  return !newState.multiselect\n    ? newState.singleSelectSelectedIndex !== newState.singleSelectInitialIndex\n    : !(JSON.stringify(newState.multiSelectInitialSelectedIndexes) === JSON.stringify(newState.multiSelectSelectedIndexes));\n}\n\nexport function mergeIsAlteredState(newState: IState): IState {\n  return {\n    ...newState,\n    altered: isAltered(newState),\n  };\n}\n","import { IState } from '../../types/';\n\nexport function removeMultiSelectIndex(\n  state: IState,\n  indexLocation: number,\n): number[] {\n  return [\n    ...state.multiSelectSelectedIndexes.slice(0, indexLocation),\n    ...state.multiSelectSelectedIndexes.slice(indexLocation + 1),\n  ];\n}\n","import { IOutputMultiSelectOption, IState } from '../../types/';\n\nexport function removeMultiSelectOption(\n  state: IState,\n  indexLocation: number,\n): {\n  options: IOutputMultiSelectOption[];\n} {\n  return {\n    options: [\n      ...state.multiSelectSelectedOptions.options.slice(0, indexLocation),\n      ...state.multiSelectSelectedOptions.options.slice(indexLocation + 1),\n    ],\n  };\n}\n","import { IState } from '../../types/';\nimport { initialState } from '../initialState';\n\nexport function resetMultiSelectState(state: IState): IState {\n  return {\n    // reset multiSelect state\n    ...state,\n    multiSelectSelectedIndexes: [...initialState.multiSelectSelectedIndexes],\n    multiSelectSelectedOptions: { ...initialState.multiSelectSelectedOptions },\n  };\n}\n"],"sourceRoot":""}